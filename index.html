<!DOCTYPE html>
<html lang="ru" class="no-js">
  <head>
  <meta charset="UTF-8">
  <title>Prototype</title>
  <body>
    <audio id="office" src="media/office.mp3" loop></audio>
    <audio id="corridor" src="media/corridor.mp3" loop></audio>
    <audio id="parking" src="media/parking.mp3" loop></audio>
    <p>Prototype 63</p>
    <div id="view">
      <img id="image" src="prototype/1.jpg">
      
      <div class="touch">
        <button class="ex" onclick="ex();">Ex</button>
        <button class="next" onclick="next();">Next</button>
      </div>
    <button onclick="fullScreen(fullScreenGame)" class="full">FullScreen</button>
    </div>
    <script>
      let i = 0;
      const image = document.getElementById("image");
      const images = ['prototype/1.jpg', 'prototype/2.jpg', 'prototype/3.jpg'];
      const audioOffice = document.getElementById('office');
      const audioCorridor = document.getElementById('corridor');
      const audioParking = document.getElementById('parking');
      const playOffice = () => {
        audioOffice.volume = 0.1
        audioOffice.play()
      }
      const playCorridor = () => {
        audioCorridor.volume = 0.1
        audioCorridor.play()
      }
      const playParking = () => {
        audioParking.volume = 0.1
        audioParking.play()
      }
      const stopOffice = () => {
        audioOffice.pause()
        audioOffice.currentTime = 0;
      }
      const stopCorridor = () => {
        audioCorridor.pause()
        audioCorridor.currentTime = 0;
      }
      const stopParking = () => {
        audioParking.pause()
        audioParking.currentTime = 0;
      }
      const next = () => {
        if (i < images.length - 1) {
          i++;
          image.src = images[i];
          if (i === 0) {
            playOffice()
          } else if (i === 1) {
            stopOffice()
            playCorridor()
          } else if (i === 2) {
            stopCorridor()
            playParking()
          }
        }
      }
      const ex = () => {
        if (i !== 0) {
          i--;
          image.src= images[i]
          if (i === 0) {
            playOffice()
            stopCorridor()
          } else if (i === 1) {
            stopParking()
            playCorridor()
          } else if (i === 2) {
            playParking()
          }
          } 
      }
    </script>
    <script>
      const fullScreen = (element) => {
        if (element.requestFullscreen) {
          element.requestFullscreen();
        } else if(element.webkitrequestFullscreen) {
          element.webkitRequestFullscreen();
        } else if(element.mozRequestFullscreen) {
          element.mozRequestFullScreen();
        }
      }
      const fullScreenGame = document.getElementById('view');
    </script>
  <style>
    img {
      pointer-events: none;
      width: 100%;
      height: 100vh;
    }
    body {
      background-color: black;
      margin-top: 0px;
      margin-bottom: 0px;
      margin-right: 0;
      margin-left: 0;
      height: 100vh;
    }
    p {
      color:aqua;
      margin-top: 0px;
      margin-bottom: 0px;
    }
    button {
      background-color:greenyellow;
      color: black;
    }
    .full {
      width: 20%;
      height: 7vh;
      position: fixed;
      top: 2%;
      left: 40%;
    }
    .ex {
      left: 0;
      position: fixed;
    }
    .next {
      right: 0;
      position: fixed;

    }
    .touch {
      position:absolute;
      top: 90%;
      width: 100%;
    }
  </style>
  </head> 
  </body>
</html>
