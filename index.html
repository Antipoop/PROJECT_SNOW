<!DOCTYPE html>
<html lang="ru" class="no-js">
  <head>
  <meta charset="UTF-8">
  <title>Prototype</title>
  <body>
    <audio id="office" src="media/office.mp3" loop></audio>
    <audio id="corridor" src="media/corridor.mp3" loop></audio>
    <audio id="parking" src="media/parking.mp3" loop></audio>
    <p>Prototype 67</p>
    <div id="view">
      <img id="bg" src="img/background/officeBackground.png">
      
      <div class="touch">
        <button class="ex" onclick="ex();">Ex</button>
        <button class="next" onclick="next();">Next</button>
      </div>
    <button onclick="fullScreen(fullScreenGame)" class="full">FullScreen</button>
    </div>
    <script>
      let i = 0;
      const background= document.getElementById("bg");
      const backgrounds = ['img/background/officeBackground.png', 'img/background/officeBackground2.png', 'img/background/officeBackground3.png']
      const character = document.getElementById('character')
      const characters = ['img/character/SnowAnime.png', 'img/character/snowDef.png'];
      const audioOffice = document.getElementById('office');
      const audioCorridor = document.getElementById('corridor');
      const audioParking = document.getElementById('parking');
      const volume = 0.1
      const playOffice = () => {
        audioOffice.volume = volume
        audioOffice.play()
      }
      const playCorridor = () => {
        audioCorridor.volume = volume
        audioCorridor.play()
      }
      const playParking = () => {
        audioParking.volume = volume
        audioParking.play()
      }
      const stopOffice = () => {
        audioOffice.pause()
        audioOffice.currentTime = 0;
      }
      const stopCorridor = () => {
        audioCorridor.pause()
        audioCorridor.currentTime = 0;
      }
      const stopParking = () => {
        audioParking.pause()
        audioParking.currentTime = 0;
      }
      const next = () => {
        if (i < backgrounds.length - 1) {
          i++;
          if (i >= 0 && i < 3) {
            if (i === 0) {
              background.src = backgrounds[0];
              playOffice() 
            }
          } else if (i >= 3 && i < 5) {
            if (i === 3) {
              background.src = backgrounds[1];
              stopOffice();
              playCorridor(); 
            }
          } else if (i >= 5 && i < 7) {
            if (i === 5) {
              background.src = backgrounds[2];
              stopCorridor();
              playParking();
            }
          }
        }
      }
      const ex = () => {
        if (i !== 0) {
          i--;
          if (i >= 0 && i < 3) {
            if (i === 3) {
              background.src = backgrounds[0];
              playOffice()
              stopCorridor()
            }
            
          } else if (i >= 3 && i < 5) {
            if (i === 5) {
              background.src = backgrounds[1];
              stopOffice();
              playCorridor();
            }
            
          } else if (i >= 5 && i < 7) {
            if (i === 7) {
              background.src = backgrounds[2];
              stopParking()
              playCorridor()
            }
          }
          } 
      }
    </script>
    <script>
      const fullScreen = (element) => {
        if (element.requestFullscreen) {
          element.requestFullscreen();
        } else if(element.webkitrequestFullscreen) {
          element.webkitRequestFullscreen();
        } else if(element.mozRequestFullscreen) {
          element.mozRequestFullScreen();
        }
      }
      const fullScreenGame = document.getElementById('view');
    </script>
  <style>
    img {
      pointer-events: none;
      width: 100%;
      height: 100vh;
    }
    body {
      background-color: black;
      margin-top: 0px;
      margin-bottom: 0px;
      margin-right: 0;
      margin-left: 0;
      height: 100vh;
    }
    p {
      color:aqua;
      margin-top: 0px;
      margin-bottom: 0px;
    }
    button {
      background-color:greenyellow;
      color: black;
    }
    .full {
      width: 20%;
      height: 7vh;
      position: fixed;
      top: 2%;
      left: 40%;
    }
    .ex {
      left: 0;
      position: fixed;
    }
    .next {
      right: 0;
      position: fixed;

    }
    .touch {
      position:absolute;
      top: 90%;
      width: 100%;
    }
  </style>
  </head> 
  </body>
</html>
